# Cookie和Session的的区别
1. 由于HTTP协议是无状态的协议，所以服务端需要记录用户的状态时，就需要用某种机制来识别具体的用户，这个机制就是Session。
> 典型的场景比如购物车，当你点击下单按钮时，由于HTTP协议无状态，所以并不知道是哪个用户操作的，所以服务端要为特定的用户创建特定的Session，用于标识这个用户，并且跟踪用户，这样才知道购物车里面有几本书。

这个Session是保存在**服务端**的，有一个**唯一标识**。在服务端保存Session的方法很多，**内存**、**数据库**、**文件**都有。++集群的时候也要考虑Session的转移++，在大型的网站，一般会有专门的Session服务器集群，用来保存用户会话，这个时候 Session 信息都是放在内存的，使用一些缓存服务比如Memcached之类的来放 Session。

2. 思考一下服务端如何识别特定的客户？**这个时候Cookie就登场了**。每次HTTP请求的时候，++客户端都会发送相应的Cookie信息到服务端++。实际上大多数的应用都是用 Cookie 来实现Session跟踪的，第一次创建Session的时候，服务端会在HTTP协议中告诉客户端，需要在 Cookie 里面记录一个Session ID，以后每次请求把这个会话ID发送到服务器，我就知道你是谁了。有人问，如果客户端的浏览器禁用了 Cookie 怎么办？一般这种情况下，会使用一种叫做URL重写的技术来进行会话跟踪，即每次HTTP交互，URL后面都会被附加上一个诸如 sid=xxxxx 这样的参数，服务端据此来识别用户。
> Cookie其实还可以用在一些方便用户的场景下，设想你某次登陆过一个网站，下次登录的时候不想再次输入账号了，怎么办？这个信息可以写到Cookie里面，访问网站的时候，网站页面的脚本可以读取这个信息，就自动帮你把用户名给填了，能够方便一下用户。这也是Cookie名称的由来，给用户的一点甜头。

总结一下：Session是在服务端保存的一个数据结构，用来跟踪用户的状态，这个数据可以保存在集群、数据库、文件中；Cookie是**客户端**保存用户信息的一种机制，用来记录用户的一些信息，也是**实现Session的一种方式**。

# HTTP & HTTPS
HTTPS 是以安全为目标的 HTTP 通道，简单讲是 HTTP 的安全版，即 HTTP 下加入 SSL 层，HTTPS 的安全基础是 SSL，因此加密的详细内容就需要 SSL。

HTTPS 协议的**主要作用**可以分为两种：
- 一种是建立一个信息安全通道，来保证数据传输的安全；
- 另一种就是确认网站的真实性。

HTTPS 和 HTTP 的**区别**主要如下：

1. HTTPS 协议使用 ca 申请证书，由于免费证书较少，需要一定费用。
2. HTTP 是明文传输，HTTPS 则是具有安全性的 SSL 加密传输协议。
3. HTTP 和 HTTPS使用的是完全不同的连接方式，用的端口也不一样，前者是 80，后者是 443。

# 对称加密
使用公共的密钥对数据进行加密后通过网络传输。

### 通信过程：
1. 通信双方通过网络传输密钥
2. 建立通信后，通过该密钥进行数据的加密
3. 将加密后的数据通过网络发送给对方
4. 接收到加密数据后使用该密钥进行解密

### 缺点
当密钥被截获，那么加密失败。

![image](https://note.youdao.com/yws/public/resource/ba3845df04801cd0f033bbbb1f9e732b/xmlnote/3F79963402824EFC959793A96B50159B/16648)
# 非对称加密
使用一个密钥对（公钥和私钥）对数据进行加密后通过网络传输。
- 利用公钥加密的数据，只有私钥可以解密
- 利用私钥加密的数据，只有公钥可以解密


### 通信过程：
1. 拥有密钥对的一方把自己的公钥发送给对方
2. 建立通信后，拥有私钥者利用私钥加密数据，拥有公钥者使用公钥加密数据
3. 将使用密钥加密后的数据通过网络发送给对方
4. 接收到加密数据后，拥有私钥者使用私钥解密数据，拥有公钥者使用公钥解密数据

### 缺点：
背景：A与B进行通信，C为黑客
1. A向B发送公钥(K-a)
2. C截获K-a，向B发送自己的公钥(K-c)
3. B收到错误的公钥K-c
4. A向B发送数据，使用K-a加密
5. C截获加密后的数据，使用K-a解密为明文，用自己的私钥（S-c）加密明文或需要伪造的数据后发送给B
6. B使用K-c解密接收到的数据

![image](https://note.youdao.com/yws/public/resource/ba3845df04801cd0f033bbbb1f9e732b/xmlnote/ACA5958F649F4B978749E95B8078C557/16716)

在传输数据的过程中，在速度上用**对称加密**的方法会比**非对称加密**的方法快很多。所以在传输数据的时候，一般不单单只用非对称加密这种方法，而是会用**非对称加密** + **对称加密**这两种结合的方法。 

# 数字证书
非对称加密不安全的原因在于我们无法确定公钥是否是正确的。

为了解决以上问题，采用数字证书和认证中心的方式。

1. 消息摘要：发送方的公钥和个人信息进行Hash
2. 数字签名：使用CA的私钥对消息摘要进行加密
3. 数字证书：将数字签名和发送方的公钥及个人信息打包

当接受放收到证书后，使用CA提供的公钥，对数字签名进行解密得到其中的消息摘要，然后使用Hash算法将证书中的公钥和个人信息进行运算得出另一个消息摘要，比较两个摘要，相同则ok。

![image](https://note.youdao.com/yws/public/resource/ba3845df04801cd0f033bbbb1f9e732b/xmlnote/A8F2B604485B49FCBBBDE7AC45B37077/17664)